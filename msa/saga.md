# SAGA 패턴
보상트랜잭션

## 왜 쓰는가?
MSA에서 여러 리소스의 변경을 하나의 트랜잭션을 묶어야할 니즈가 생긴다. 

예를들어 분산된 서비스인 결제시스템에서 결제를 진행할 때, 분리되어있는 포인트와 쿠폰을 함께 사용하는 것 처럼 말이다.

즉 분산환경에서 트랜잭션(정합성)을 보장하기 위해 사용한다.


## 대안
데이터베이스의 투 페이즈 커밋을 사용한다.

서비스가 장애가 발생하면, 트랜잭션에 참여한 모든 서비스에 장애가 발생한다.


## 종류

- orchestration based saga
- choreography based saga

### 장단점?